<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="registro.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <title>Infraestructura con Pymes</title>
</head>
<body>
    <div class="contenedor">
        <h1>Registro</h1>
        <h2>Regístrate para acceder a nuestros servicios</h2>

        <form id="registroForm">
            <div class="Apartado-email">
                <a>Mail</a>
                <div class="Registro-email">
                    <i class="fas fa-envelope"></i>
                    <input type="email" id="email" name="email" class="email-input" placeholder="email@email.com" required>
                    <span class="error" id="errorEmail"></span>
                </div>
            </div>
            <div class="Apartado-contraseña">
                <a>Contraseña</a>
                <div class="Registro-contraseña">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="contrasena" name="contrasena" placeholder="Introduce tu contraseña" required>
                    <span class="error" id="errorContrasena"></span>
                </div>
            </div>
            <div class="boton-registro">
                <button type="submit" class="boton-registro" style="text-decoration:none; color:white">Registro</button>
            </div>
        </form>
        <hr>
    </div>

    <script>
        document.getElementById('registroForm').addEventListener('submit', function(event) {
            
            event.preventDefault();
            let formIsValid = true;

            document.getElementById('errorEmail').innerText = '';
            document.getElementById('errorContrasena').innerText = '';

            const email = document.getElementById('email').value.trim();
            const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            if (email === '' || !emailRegex.test(email)) {
                document.getElementById('errorEmail').innerText = 'Por favor, ingresa un correo electrónico válido.';
                formIsValid = false;
            }

            const contrasena = document.getElementById('contrasena').value.trim();
            if (contrasena === '' || contrasena.length < 6) {
                document.getElementById('errorContrasena').innerText = 'La contraseña debe tener al menos 6 caracteres.';
                formIsValid = false;
            }

            if (formIsValid) {
                alert('Registro satisfactorio.');
                window.location.href = 'main.html';
            }
        });
    </script>
</body>
</html>
